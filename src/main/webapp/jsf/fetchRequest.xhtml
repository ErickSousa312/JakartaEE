<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://java.sun.com/jsf/core">
<h:head>
   <title>Fetch API Example</title>
   <script type="text/javascript">
      async function fetchData() {
         try {
            let response = await fetch('/javaEE_Estudo/dataServlet');
            if (!response.ok) {
               throw new Error('Network response was not ok');
            }
            let data = await response.json();
            console.log(data)
            console.log("acima fica o dados que vieram do servlet")
            document.getElementById('response').innerText = data.teste;
         } catch (error) {
            console.error('There was an error!', error);
         }
      }
   </script>
</h:head>
<h:body>
   <h1>Fetch API Example and redirect</h1>
   <h:commandButton value="pegar os dados do servlet" onclick="fetchData()"/><br/>
   <h:outputText id="response">
      <!-- A resposta do Fetch será inserida aqui -->
   </h:outputText><br/>
   <h:form id="productForm">
      <h:commandButton value="/teste.xhtml" action="#{teste.redirect}"/><br/>
      <h:commandButton value="/teste" action="#{teste.redirect()}"/> <br/>
      <h:commandButton value="teste" outcome=""/><br/>
      <h:commandButton value="com Context e redirect" action="#{teste.getRedirect()}"  />
      <h:commandButton value="Com oNclik" onclick="#{teste.redirect()}" />
   </h:form>
   <h:commandButton value="Com oNclik" onclick="#{teste.redirect()}" onkeypress="#{teste.redirect()}" />


   <h:form id="productForm2">
      <h1>
         Caixas de seleção
      </h1>
      <h:selectBooleanCheckbox id="booleanCheckBox" value="false" />
      <h:outputLabel for="booleanCheckBox" value="Teste de check box"/>

      <h:panelGrid columns="1">
         <h:selectManyCheckbox value="#{checkBoxClass.selectedOptions}">
            <f:selectItems value="#{checkBoxClass.options}" />
         </h:selectManyCheckbox>

         <h:commandButton value="Submit" action="#{checkBoxClass.submit}" />
      </h:panelGrid>
   </h:form>
   <h:outputText value="Selected options: #{checkBoxClass.selectedOptions}" />
</h:body>
</html>
