<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
   <title>Fetch API Example</title>
   <script type="text/javascript">
      async function fetchData() {
         try {
            let response = await fetch('/javaEE_Estudo/dataServlet');
            if (!response.ok) {
               throw new Error('Network response was not ok');
            }
            let data = await response.json();
            console.log(data)
            console.log("acima fica o dados que vieram do servlet")
            document.getElementById('response').innerText = data.teste;
         } catch (error) {
            console.error('There was an error!', error);
         }
      }
   </script>
</h:head>
<h:body>
   <h1>Fetch API Example and redirect</h1>
   <h:commandButton value="pegar os dados do servlet" onclick="fetchData()"/><br/>
   <h:outputText id="response">
      <!-- A resposta do Fetch serÃ¡ inserida aqui -->
   </h:outputText><br/>
   <h:form id="productForm">
      <h:commandButton value="/teste.xhtml" action="#{teste.redirect}"/><br/>
      <h:commandButton value="/teste" action="#{teste.redirect()}"/> <br/>
      <h:commandButton value="teste" outcome=""/><br/>
      <h:commandButton value="com Context e redirect" action="#{teste.getRedirect()}"  />
      <h:commandButton value="Com oNclik" onclick="#{teste.redirect()}" />
   </h:form>
   <h:commandButton value="Com oNclik" onclick="#{teste.redirect()}" onkeypress="#{teste.redirect()}" />

</h:body>
</html>
